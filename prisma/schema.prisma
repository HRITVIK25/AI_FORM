generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

// creating schemas / model
model Form{
  id Int @id @default(autoincrement())
  onwerId String
  createdAt DateTime @default(now())
  publish Boolean @default(false)
  content Json
  submissions Int @default(0)
  shareUrl String @default(uuid())
  FormSubmissions submissions[]
}

model submissions{
  id Int @id @default(autoincrement())
  createdAt DateTime @default(now())
  formId Int
  form Form @relation(fields: [formId], references: [id]) // creating relation between submissions and form
  content Json
}

// Each submission belongs to a single form (formId is the foreign key) refrenced using id of form
// One-to-Many Relationship: A Form can have multiple submissions, but each submission belongs to a single Form.


